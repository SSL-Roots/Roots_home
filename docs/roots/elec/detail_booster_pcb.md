# 昇圧基板について
## はじめに
ロボカップSSLロボットのキック動力をコンデンサに充電する昇圧基板です。

昇圧ICとして、コンデンサ充電コントローラ用のLT3750を使用しています。

また、昇圧機能に加えキック用の放電機能を2ch（ストレイトキック、チップキック）備えています。

## 昇圧基板の機能
* コンデンサの充電
* ストレイトキック信号によるソレノイドへの放電
* チップキック信号によるソレノイドへの放電

## 昇圧基板の使用方法
Roots製メイン基板と組み合わせて使用します。

Roots製メイン基板と12線で接続してください。

* 1:チップキック信号入力
* 2:ストレートキック信号入力
* 3:CHG_DONE信号出力(充電完了信号出力)
* 4:3.3V
* 5:イネーブル信号入力
* 6:+5V
* 7:GND
* 8:GND
* 9:GND
* 10:VCC(バッテリ電圧)
* 11:VCC(バッテリ電圧)
* 12:VCC(バッテリ電圧)

昇圧電源側と制御側はトランスとIC300を介して絶縁されています。

メイン基板からのイネーブル信号入力で充電開始し、充電完了後にCHG_DONE信号出力
が出力されます。

充電電圧は可変抵抗を回すことで調整が可能です。

メイン基板から3.3V電源が供給されている場合の3V3のLEDが点灯します。

イネーブル信号が入力されている場合はENのLEDが点灯します。

充電完了時にDONEのLEDが点灯します。

各キック信号入力にパルスを入力することでIGBTが駆動します。

## 注意点
配線時に確実にメイン基板と同名の信号となるよう配線してください。

逆に接続した場合は破壊の危険があります。

昇圧電源は大きな電圧と電力を取り扱います。感電と爆発の危険がありますので、
安全に十分配慮して使用してください。

特に充電されたコンデンサの端子間や昇圧電源側を触るのは非常に危険です。

コンデンサが接続されていない状態で充電を開始すると、コイルに貯められた
エネルギーを移す場所が無くなりダイオードなどの素子破壊に繋がります。

絶対にコンデンサをつないでいない状態での昇圧は行わないでください。

## 動作確認
ソレノイドコネクタにDC2Ω以上の抵抗値を持つものを接続してください。

電源投入前にコンデンサが確実に接続されているのを確認してください。

### 充電
コンデンサ両端にテスターを接続して電圧をモニタしながら動作チェックを実施してください。

動作チェック時は可変抵抗の値を0にしてください。充電電圧が170Vに設定されます。

最初からフル充電せずにイネーブル信号を一瞬だけ入力してください。

この時一瞬で数十V充電されるので気を付けてください。

充電されない場合は配線か基板のはんだ付けにミスが有るので確認してください。

次に充電停止するか確認します。イネーブル信号をオンし続けてテスターの電圧が上昇し続けるか確認します。

充電電圧は170Vくらいに設定していますので180Vを超えても昇圧が止まらない場合は即時イネーブル信号をオフにしてください。

昇圧が止まらない場合は以下のような理由が考えられます。

* RVOUTに接続される抵抗値が33kΩ+5kΩ可変抵抗(0Ωに設定)でない。

* RBG端子に接続される抵抗値が2.4kΩでない。

* RBG端子に接続されるコンデンサが100pFでない。

特にコンデンサの値が違うと昇圧が200Vを超えても停止せずに動作し続けます。

170V付近で昇圧が停止した場合はイネーブル信号を入力しながら可変抵抗を回します。

可変抵抗で170V～195V(TYP)で調整できます。基本的に5kΩ設定で195Vに設定すればOKです。

### 放電
各キック信号どちらかにパルスを入力します。

テスターの電圧値をモニタして放電されているか確認してください。

コンデンサの放電は放電完了後電圧が自己回復しますので確実に0になっているのを
確認してから終了してください。

放電しない場合は配線ミスかIGBT駆動回路の半田付けミスが考えられます。

放電できない場合はある程度大きな抵抗をコンデンサの両端に手で接触してください。

この時絶対に金属部分に触れないでください。感電します。

## 定格
# 入力電圧

VCC:13V～17V

3.3V:3.3V±0.3V

+5V:5V±0.5V

EN:3V～17V

CHIP:3.5V～5.5V

STRAIGHT:3.5V～5.5V

# 出力電圧
170V～195V

# 負荷条件
DC2Ω以上

## 作成方法
回路図・部品表は右記リンク先：[BoostConverterBoard](https://github.com/SSL-Roots/Circuit_BoostConverterBoard)
1. IC200をはんだ付けします。ピン間が狭いため隣ピンとのショートに十分注意してください。
2. IC300,IC301をはんだ付けします。
3. トランジスタとツェナーダイオードをはんだ付けします。
4. チップコンデンサとチップ抵抗をはんだ付けします。
5. LEDをはんだ付けします。
6. リード抵抗とリードコンデンサをはんだ付けします。
7. FET、ダイオード、IGBTをはんだ付けします。
8. コネクタをはんだ付けします。
9. 最後にトランスをはんだ付けします。
10. 基板の左上に空いた穴に線を通してPADにはんだ付けします。この時赤を200、黒をC_GNDにします。
11. 収縮チューブを先に入れてから線の先にXTコネクタをはんだ付けします。極性を間違えないように気を付けて作業してください。　このとき確実に金属部分を収縮チューブで覆ってください。収縮チューブが無い場合はビニールテープでもOKです。
12. コンデンサからXTコネクタで線を出します。この時極性を間違えないように気を付けて作業してください。　※逆に取り付けた場合はコンデンサが爆発します。