# モータードライバ基板について　　
## はじめに
ロボカップSSLマシンのオムニホイールを駆動するためのモーターをドライブする基板です。

メインCPUとしてdsPIC33EP32MC502を使用します。

3層のハーフブリッジでマクソン製ブラシレスDCモータEC45-flat 30Wを制御します。

エンコーダ基板と組み合わせることでクローズドループ制御が可能です。

## モータードライバ基板の機能
* メイン基板との通信

* エンコーダ基板から回転信号を取得

* マクソン製ブラシレスDCモータEC45-flat 30Wの制御

* ソフトウェア電流リミッターによる過電流保護

## モータードライバ基板の使用方法
## 使用方法
Roots製メイン基板、エンコーダ基板と組み合わせて使用します。

Roots製メイン基板のピンソケットに挿入して使用します。

エンコーダ基板とのピン配置は以下です。

* 1:+5V
* 2:A相信号入力
* 3:GND
* 4:B相信号入力

## 注意点
配線時に確実にメイン基板と同名の信号となるよう配線してください。

逆に接続した場合は破壊の危険があります。

メイン基板へ挿入する場合はピンがズレないように気を付けてください。

ピンがズレた状態で電源を投入すると破壊します。

ソフトウェア電流リミッターが内蔵されていますが、モーターがストールした場合は破壊する可能性があります。

## 定格
電源電圧:13V～17V

3.3V:3.3V±0.3V

+5V:5V±0.5V

EC45-flat 30Wにのみ対応します。30W以上のモータの場合破壊する可能性があります。

## 作成方法
回路図・部品表は右記リンク先：[MotorDriverBoard](https://github.com/SSL-Roots/Circuit_MotorDriverBoard)

1.裏面のコンデンサと抵抗をはんだ付けします。

2.裏面のICをはんだ付けします。

3.電源ラインの貫通ビアに抵抗の足などを入れてはんだ付けしてください。
　電流容量を稼ぐためです。

4.表面のコンデンサ、抵抗、ダイオード、LEDをはんだ付けします。

5.表面のICをはんだ付けします。

6.裏面のフレキコネクタをはんだ付けします。

7.4ピンコネクタをはんだ付けします。

8.書き込み用L字ピンヘッダをはんだ付けします。

9.細ピンヘッダをはんだ付けします。

